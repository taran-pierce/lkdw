(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[527],{6199:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"Mutation"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"data"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ProductCreateInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createProduct"},arguments:[{kind:"Argument",name:{kind:"Name",value:"data"},value:{kind:"Variable",name:{kind:"Name",value:"data"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"price"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"shortDescription"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:126}};n.loc.source={body:"mutation Mutation($data: ProductCreateInput!) {\n  createProduct(data: $data) {\n    price\n    shortDescription\n    title\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var t={};function i(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}n.definitions.forEach(function(e){if(e.name){var n=new Set;(function e(n,t){if("FragmentSpread"===n.kind)t.add(n.name.value);else if("VariableDefinition"===n.kind){var i=n.type;"NamedType"===i.kind&&t.add(i.name.value)}n.selectionSet&&n.selectionSet.selections.forEach(function(n){e(n,t)}),n.variableDefinitions&&n.variableDefinitions.forEach(function(n){e(n,t)}),n.definitions&&n.definitions.forEach(function(n){e(n,t)})})(e,n),t[e.name.value]=n}}),e.exports=n,e.exports.Mutation=function(e,n){var r={kind:e.kind,definitions:[i(e,n)]};e.hasOwnProperty("loc")&&(r.loc=e.loc);var a=t[n]||new Set,o=new Set,s=new Set;for(a.forEach(function(e){s.add(e)});s.size>0;){var c=s;s=new Set,c.forEach(function(e){o.has(e)||(o.add(e),(t[e]||new Set).forEach(function(e){s.add(e)}))})}return o.forEach(function(n){var t=i(e,n);t&&r.definitions.push(t)}),r}(n,"Mutation")},7510:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"getProducts"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"products"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tagsCount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"image"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"altText"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"image"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"extension"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"height"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"width"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"tags"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"content"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"document"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"price"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"shortDescription"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:306}};n.loc.source={body:"query getProducts {\n  products {\n    id\n    title\n    tagsCount\n    image {\n      altText\n      id\n      image {\n        url\n        id\n        extension\n        height\n        width\n      }\n    }\n    tags {\n      id\n      name\n    }\n    content {\n      document\n    }\n    price\n    shortDescription\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var t={};function i(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}n.definitions.forEach(function(e){if(e.name){var n=new Set;(function e(n,t){if("FragmentSpread"===n.kind)t.add(n.name.value);else if("VariableDefinition"===n.kind){var i=n.type;"NamedType"===i.kind&&t.add(i.name.value)}n.selectionSet&&n.selectionSet.selections.forEach(function(n){e(n,t)}),n.variableDefinitions&&n.variableDefinitions.forEach(function(n){e(n,t)}),n.definitions&&n.definitions.forEach(function(n){e(n,t)})})(e,n),t[e.name.value]=n}}),e.exports=n,e.exports.getProducts=function(e,n){var r={kind:e.kind,definitions:[i(e,n)]};e.hasOwnProperty("loc")&&(r.loc=e.loc);var a=t[n]||new Set,o=new Set,s=new Set;for(a.forEach(function(e){s.add(e)});s.size>0;){var c=s;s=new Set,c.forEach(function(e){o.has(e)||(o.add(e),(t[e]||new Set).forEach(function(e){s.add(e)}))})}return o.forEach(function(n){var t=i(e,n);t&&r.definitions.push(t)}),r}(n,"getProducts")},2846:function(e,n,t){Promise.resolve().then(t.bind(t,1220))},1220:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return h}});var i=t(3827),r=t(15),a=t(1911),o=t(4090),s=t(2072),c=t(286),d=t(3012),u=t.n(d),l=t(6199),m=t.n(l),f=t(7510),v=t.n(f);function p(){let[e,n]=(0,o.useState)(!1),{inputs:t,handleChange:r,resetForm:a}=(0,s.Z)({title:"",shortDescription:"",price:0}),[d,{loading:l,data:f,error:p}]=(0,c.D)(m(),{variables:{data:{...t}},refetchQueries:[{query:v()}]});async function h(e){e.preventDefault();try{await d(),a(),n(!0)}catch(e){console.log({error:e})}}return(0,i.jsxs)("div",{className:u().formWrapper,children:[e&&(0,i.jsx)("p",{className:u().sucessMessage,children:"Product has been created. It can be viewed on the Products page now."}),(0,i.jsx)("form",{method:"POST",onSubmit:e=>h(e),className:u().form,children:(0,i.jsxs)("fieldset",{disabled:l,className:u().fieldset,children:[(0,i.jsxs)("label",{htmlFor:"title",className:u().label,children:["Title",(0,i.jsx)("input",{name:"title",type:"text",id:"title",value:t.title,onChange:r,required:!0})]}),(0,i.jsxs)("label",{htmlFor:"shortDescription",className:u().label,children:["Description",(0,i.jsx)("input",{name:"shortDescription",type:"text",id:"shortDescription",value:t.shortDescription,onChange:r,required:!0})]}),(0,i.jsxs)("label",{htmlFor:"price",className:u().label,children:["Price",(0,i.jsx)("input",{name:"price",type:"number",id:"shortDescription",value:t.price,onChange:r,required:!0})]}),(0,i.jsx)("button",{type:"submit",className:u().button,children:"Create"})]})})]})}function h(){return(0,i.jsx)(r.MenuStateProvider,{children:(0,i.jsxs)("main",{children:[(0,i.jsx)(a.Z,{text:"Add Product",subText:"Create your product here. Just set the title, description, price and then hit create!"}),(0,i.jsx)(p,{})]})})}},1911:function(e,n,t){"use strict";t.d(n,{Z:function(){return c}});var i=t(3827),r=t(1044),a=t.n(r),o=t(5710),s=t.n(o);function c(e){let{text:n,subText:t}=e;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("h1",{className:"".concat(a().className," ").concat(s().h1),children:n}),(0,i.jsx)("p",{className:s().p,children:t})]})}},2072:function(e,n,t){"use strict";t.d(n,{Z:function(){return r}});var i=t(4090);function r(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},[n,t]=(0,i.useState)(e),r=Object.values(e).join();return(0,i.useEffect)(()=>{t(e)},[r]),{inputs:n,handleChange:function(e){let{value:i,name:r,type:a}=e.target;"number"===a&&(i=parseInt(i)),"file"===a&&(console.log("maybe I need to fiddle with this"),[i]=e.target.files),t({...n,[r]:i})},resetForm:function(){t(e)},clearForm:function(){t(Object.fromEntries(Object.entries(n).map(e=>{let[n,t]=e;return[n,""]})))}}}},15:function(e,n,t){"use strict";t.r(n),t.d(n,{MenuStateProvider:function(){return s},useMenu:function(){return c}});var i=t(3827),r=t(4090);let a=(0,r.createContext)({}),o=a.Provider;function s(e){let{children:n}=e,[t,a]=(0,r.useState)(!1),[s,c]=(0,r.useState)(!1);return(0,i.jsx)(o,{value:{isMenuOpen:t,setIsMenuOpen:a,closeMenu:function(){a(!1)},openMenu:function(){a(!0)},toggleMenu:function(){a(!t)},isCartOpen:s,setIsCartOpen:c,toggleCart:function(){c(!t)},closeCart:function(){c(!1)},openCart:function(){c(!0)}},children:n})}function c(){return(0,r.useContext)(a)}},5710:function(e){e.exports={h1:"sectionHeader_h1___lmyj",p:"sectionHeader_p__y_jXV"}},3012:function(e){e.exports={fieldset:"form_fieldset__T2gM_",label:"form_label__5xHnE",errorMessage:"form_errorMessage__u1whG",createAccountWrapper:"form_createAccountWrapper__re13P",button:"form_button__RBl21",sucessMessage:"form_sucessMessage__HoBo9",formWrapper:"form_formWrapper__Hkm31",form:"form_form__RweKP"}},1044:function(e){e.exports={style:{fontFamily:"'__Rubik_Doodle_Shadow_65255b'",fontWeight:400,fontStyle:"normal"},className:"__className_65255b",variable:"__variable_65255b"}},286:function(e,n,t){"use strict";t.d(n,{D:function(){return u}});var i=t(9703),r=t(6050),a=t(569),o=t(9058),s=t(1039),c=t(866),d=t(9259);function u(e,n){var t=(0,d.x)(null==n?void 0:n.client);(0,s.Vp)(e,s.n_.Mutation);var u=r.useState({called:!1,loading:!1,client:t}),l=u[0],m=u[1],f=r.useRef({result:l,mutationId:0,isMounted:!0,client:t,mutation:e,options:n});Object.assign(f.current,{client:t,options:n,mutation:e});var v=r.useCallback(function(e){void 0===e&&(e={});var n=f.current,t=n.options,r=n.mutation,s=(0,i.pi)((0,i.pi)({},t),{mutation:r}),d=e.client||f.current.client;f.current.result.loading||s.ignoreResults||!f.current.isMounted||m(f.current.result={loading:!0,error:void 0,data:void 0,called:!0,client:d});var u=++f.current.mutationId,l=(0,a.J)(s,e);return d.mutate(l).then(function(n){var t,i,r=n.data,a=n.errors,s=a&&a.length>0?new c.cA({graphQLErrors:a}):void 0,v=e.onError||(null===(t=f.current.options)||void 0===t?void 0:t.onError);if(s&&v&&v(s,l),u===f.current.mutationId&&!l.ignoreResults){var p={called:!0,loading:!1,data:r,error:s,client:d};f.current.isMounted&&!(0,o.D)(f.current.result,p)&&m(f.current.result=p)}var h=e.onCompleted||(null===(i=f.current.options)||void 0===i?void 0:i.onCompleted);return s||null==h||h(n.data,l),n}).catch(function(n){if(u===f.current.mutationId&&f.current.isMounted){var t,i={loading:!1,error:n,data:void 0,called:!0,client:d};(0,o.D)(f.current.result,i)||m(f.current.result=i)}var r=e.onError||(null===(t=f.current.options)||void 0===t?void 0:t.onError);if(r)return r(n,l),{data:void 0,errors:n};throw n})},[]),p=r.useCallback(function(){if(f.current.isMounted){var e={called:!1,loading:!1,client:t};Object.assign(f.current,{mutationId:0,result:e}),m(e)}},[]);return r.useEffect(function(){return f.current.isMounted=!0,function(){f.current.isMounted=!1}},[]),[v,(0,i.pi)({reset:p},l)]}}},function(e){e.O(0,[28,971,69,744],function(){return e(e.s=2846)}),_N_E=e.O()}]);