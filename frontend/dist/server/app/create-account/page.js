(()=>{var e={};e.id=897,e.ids=[897],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},57147:e=>{"use strict";e.exports=require("fs")},71017:e=>{"use strict";e.exports=require("path")},12781:e=>{"use strict";e.exports=require("stream")},57310:e=>{"use strict";e.exports=require("url")},59796:e=>{"use strict";e.exports=require("zlib")},17433:e=>{var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"CreateUser"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"data"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UserCreateInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createUser"},arguments:[{kind:"Argument",name:{kind:"Name",value:"data"},value:{kind:"Variable",name:{kind:"Name",value:"data"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"stripeId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"password"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isSet"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:146}};t.loc.source={body:"mutation CreateUser($data: UserCreateInput!) {\n  createUser(data: $data) {\n    name\n    email\n    stripeId\n    password {\n      isSet\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};function n(e,t){for(var a=0;a<e.definitions.length;a++){var n=e.definitions[a];if(n.name&&n.name.value==t)return n}}t.definitions.forEach(function(e){if(e.name){var t=new Set;(function e(t,a){if("FragmentSpread"===t.kind)a.add(t.name.value);else if("VariableDefinition"===t.kind){var n=t.type;"NamedType"===n.kind&&a.add(n.name.value)}t.selectionSet&&t.selectionSet.selections.forEach(function(t){e(t,a)}),t.variableDefinitions&&t.variableDefinitions.forEach(function(t){e(t,a)}),t.definitions&&t.definitions.forEach(function(t){e(t,a)})})(e,t),a[e.name.value]=t}}),e.exports=t,e.exports.CreateUser=function(e,t){var r={kind:e.kind,definitions:[n(e,t)]};e.hasOwnProperty("loc")&&(r.loc=e.loc);var i=a[t]||new Set,s=new Set,o=new Set;for(i.forEach(function(e){o.add(e)});o.size>0;){var l=o;o=new Set,l.forEach(function(e){s.has(e)||(s.add(e),(a[e]||new Set).forEach(function(e){o.add(e)}))})}return s.forEach(function(t){var a=n(e,t);a&&r.definitions.push(a)}),r}(t,"CreateUser")},30438:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GlobalError:()=>s.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>d,routeModule:()=>p,tree:()=>c});var n=a(50482),r=a(69108),i=a(62563),s=a.n(i),o=a(68300),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);a.d(t,l);let c=["",{children:["create-account",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,5561)),"/Users/pierce/projects/lkdw/frontend/src/app/create-account/page.tsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(a.bind(a,89354))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(a.bind(a,21342)),"/Users/pierce/projects/lkdw/frontend/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,69361,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(a.bind(a,89354))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],d=["/Users/pierce/projects/lkdw/frontend/src/app/create-account/page.tsx"],u="/create-account/page",m={require:a,loadChunk:()=>Promise.resolve()},p=new n.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/create-account/page",pathname:"/create-account",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},45408:(e,t,a)=>{Promise.resolve().then(a.bind(a,92140))},92140:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>p});var n=a(95344),r=a(8428),i=a(85054),s=a(62794),o=a(48550),l=a.n(o),c=a(77291),d=a.n(c),u=a(17433),m=a.n(u);function p(){let e=(0,r.useRouter)(),{inputs:t,handleChange:a,resetForm:o}=(0,i.Z)({name:"Name",email:"test@email.com",password:""}),[c,{loading:u,data:p,error:f}]=(0,s.D)(m(),{variables:t,refetchQueries:[{query:d()}]});async function v(a){a.preventDefault();let n=await fetch("/api/create-customer-account",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:t?.name,email:t?.email})}).then(e=>e.json()),r=await c({variables:{data:{...t,stripeId:n.id}}});r?.data?.createUser&&e.push("/signin")}return(0,n.jsxs)("div",{className:l().formWrapper,children:[f&&f&&n.jsx("div",{className:l().errorMessage,children:n.jsx("p",{children:f?.message})}),n.jsx("form",{method:"POST",onSubmit:e=>v(e),className:l().form,children:(0,n.jsxs)("fieldset",{disabled:u,className:l().fieldset,children:[(0,n.jsxs)("label",{htmlFor:"name",className:l().label,children:["Email",n.jsx("input",{name:"name",type:"text",id:"name",placeholder:"Name",value:t.name,onChange:a})]}),(0,n.jsxs)("label",{htmlFor:"email",className:l().label,children:["Email",n.jsx("input",{name:"email",type:"email",id:"email",placeholder:"email@address.com",value:t.email,onChange:a})]}),(0,n.jsxs)("label",{htmlFor:"password",className:l().label,children:["Password",n.jsx("input",{name:"password",type:"password",id:"password",value:t.password,onChange:a})]}),n.jsx("button",{type:"submit",className:l().button,children:"Sign In"})]})})]})}},85054:(e,t,a)=>{"use strict";a.d(t,{Z:()=>r});var n=a(3729);function r(e={}){let[t,a]=(0,n.useState)(e),r=Object.values(e).join();return(0,n.useEffect)(()=>{a(e)},[r]),{inputs:t,handleChange:function(e){let{value:n,name:r,type:i}=e.target;"number"===i&&(n=parseInt(n)),"file"===i&&(console.log("maybe I need to fiddle with this"),[n]=e.target.files),a({...t,[r]:n})},resetForm:function(){a(e)},clearForm:function(){a(Object.fromEntries(Object.entries(t).map(([e,t])=>[e,""])))}}}},48550:e=>{e.exports={fieldset:"form_fieldset__T2gM_",label:"form_label__5xHnE",errorMessage:"form_errorMessage__u1whG",createAccountWrapper:"form_createAccountWrapper__re13P",button:"form_button__RBl21",sucessMessage:"form_sucessMessage__HoBo9",formWrapper:"form_formWrapper__Hkm31",form:"form_form__RweKP"}},5561:(e,t,a)=>{"use strict";a.r(t),a.d(t,{$$typeof:()=>i,__esModule:()=>r,default:()=>s});let n=(0,a(86843).createProxy)(String.raw`/Users/pierce/projects/lkdw/frontend/src/app/create-account/page.tsx`),{__esModule:r,$$typeof:i}=n,s=n.default},89354:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>r});var n=a(70337);let r=e=>[{type:"image/x-icon",sizes:"16x16",url:(0,n.fillMetadataSegment)(".",e.params,"favicon.ico")+""}]}};var t=require("../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),n=t.X(0,[638,623,337,34],()=>a(30438));module.exports=n})();